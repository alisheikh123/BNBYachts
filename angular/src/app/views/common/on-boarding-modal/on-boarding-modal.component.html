<div class="modal-content">
    <div class="modal-header no-border">
    </div>
    <form [formGroup]="mobileVerificationForm">
        <div class="modal-body">
            <div class="custom-text-center">
                <h4 class="bold text-center">{{'MobileVerificationTxt' | localization}}</h4>
                <div class="py-2">
                    <div class="row">
                        <div class="col-md-1"></div>
                        <div class="col-md-10">
                            <div class="custom-select-field" ngbDropdown #myDrop="ngbDropdown" placement="bottom">
                                <label>{{'CountryTxt' | localization}}</label>
                                <select formControlName="countryCode" class="form-control" name="countryCode"
                                    id="countryCode" (change)="selectCountry($event)">

                                    <option *ngFor="let country of countries" [value]="country.phone">
                                        {{country.name}}&nbsp;({{country.phone}})</option>
                                    <option [ngValue]=null selected>{{'SelectCountry' | localization}}</option>
                                </select>
                            </div>
                            <div class="custom-input-field">
                                <label>{{'PhoneNumber' | localization}}</label>
                                <input formControlName="phoneNumber" type="number" class="form-control"
                                    placeholder="Enter mobile Number" />
                                <small class="pt-2">{{'SuccessMessage' | localization}}</small>
                            </div>
                        </div>
                        <div class="col-md-1"></div>
                    </div>


                </div>
                <div class="py-4 text-center">
                    <button class="custom-btn blue big-btn"
                        [ngClass]="{'grey': !mobileVerificationForm.valid,'blue':mobileVerificationForm.valid}"
                        [disabled]="!mobileVerificationForm.valid" (click)="submit(verifyOTP)">{{'Continue' |
                        localization}}</button>
                </div>
                <div class="py-4 text-center">
                    <button class="later" (click)="DismissAll()">{{'DoLater' | localization}}</button>
                </div>
            </div>
        </div>
    </form>
</div>

<ng-template #verifyOTP>
    <div class="modal-content">
        <div class="row col-md-12">
            <button class="fas fa-arrow-left mt-3 later text-left alignment btn" (click)="previousModal()"></button>

            <div class="col-md-10">
                <div class="modal-header no-border">
                </div>
            </div>
        </div>
        <form [formGroup]="mobileVerificationForm">
            <div class="modal-body">
                <div class="custom-text-center">
                    <h4 class="bold text-center">{{'OTPCodeTxt' | localization}}</h4>
                    <p class="text-center pt-3">{{'codeLocation' | localization}}</p>
                    <div class="py-2">
                        <div class="row">
                            <div class="col-md-1"></div>
                            <div class="col-md-10">
                                <ng-otp-input (onInputChange)="onOtpChange($event)" [config]="{length:6}">
                                </ng-otp-input>
                                <p class="text-danger mt-3" *ngIf="isInvalidCode">{{'InvalidCode' | localization}}</p>
                            </div>
                            <div class="col-md-1"></div>
                        </div>
                        <p class="mt-2">{{'expiryMessage' | localization}}</p>
                        {{counter | formatTime}}
                    </div>
                    <div class="py-4 text-center">
                        <p>{{'CodenotReceived' | localization}}</p><a href="#">
                            <p class="later" (click)="ResendCode(verifyOTP)">{{'ResendCode' | localization}}</p>
                        </a>
                    </div>
                </div>
            </div>
        </form>
    </div>
</ng-template>
<ng-template #successfullyVerified>
    <div class="modal-content">
        <div class="modal-body">
            <div class="custom-text-center">
                <div class="img-wrapper">
                    <img src="assets/images/password-updated.png" alt="">
                </div>
                <h4 class="bold">{{'PhoneNumberVerified' | localization}}</h4>
                <div class="bottom-btn py-2 pt-5">
                    <button class="custom-btn blue big-btn" (click)="openUploadPicture()">{{'Continue'|
                        localization}}</button>
                </div>
            </div>

        </div>
    </div>
</ng-template>